{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":["file:///Users/amrassal/Documents/Git-Projects/AtlasEgypt/components/Authentication/forget-password-form.jsx"],"sourcesContent":["import { useRef } from \"react\";\nimport { toast } from \"react-toastify\";\n\nexport default function ForgetPasswordForm() {\n  const oldPasswordRef= useRef();\n  const newPasswordRef= useRef();\n\n  async function handleSumbit(e){\n    e.preventDefault();\n    const oldPassword = oldPasswordRef.current.value;\n    const newPassword = newPasswordRef.current.value;\n    \n    if (\n      !oldPassword ||\n      !newPassword ||\n      newPassword.trim().length < 7\n    ) {\n      toast.error(\"Please check your input. New passwords must be at least 7 characters long.\");\n      return;\n    }\n    const response = await fetch(\"/api/user/change-password\", {\n      method: \"PATCH\",\n      body: JSON.stringify({\n        oldPassword: oldPassword,\n        newPassword: newPassword,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      })\n      const data = await response.json();\n      if (!response.ok) {\n        toast.error(data.message || \"Something went wrong!\");\n      } else {\n        toast.success(\"Password updated successfully!\");\n      }\n  }\n\n  return (\n    <form className=\"space-y-6\" onSubmit={handleSumbit}>\n      <div>\n        <label\n          htmlFor=\"oldPassword\"\n          className=\"block text-sm font-medium text-gray-700\"\n        >\n          Old Password\n        </label>\n        <input\n          type=\"password\"\n          name=\"oldPassword\"\n          id=\"oldPassword\"\n          required\n          placeholder=\"enter old password here\"\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm\"\n          ref={oldPasswordRef}\n        />\n      </div>\n      <div>\n        <label\n          htmlFor=\"newPassword\"\n          className=\"block text-sm font-medium text-gray-700\"\n        >\n          New Password\n        </label>\n        <input\n          type=\"password\"\n          name=\"newPassword\"\n          id=\"newPassword\"\n          required\n          placeholder=\"enter new password here\"\n          className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm\"\n          ref={newPasswordRef}\n        />\n      </div>\n      <div>\n        <button\n          type=\"submit\"\n          className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-500 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 cursor-pointer\"\n        >\n          Change Password\n        </button>\n      </div>\n    </form>\n  );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;;;;;AAEe,SAAS;IACtB,MAAM,iBAAgB,IAAA,6GAAM;IAC5B,MAAM,iBAAgB,IAAA,6GAAM;IAE5B,eAAe,aAAa,CAAC;QAC3B,EAAE,cAAc;QAChB,MAAM,cAAc,eAAe,OAAO,CAAC,KAAK;QAChD,MAAM,cAAc,eAAe,OAAO,CAAC,KAAK;QAEhD,IACE,CAAC,eACD,CAAC,eACD,YAAY,IAAI,GAAG,MAAM,GAAG,GAC5B;YACA,iPAAK,CAAC,KAAK,CAAC;YACZ;QACF;QACA,MAAM,WAAW,MAAM,MAAM,6BAA6B;YACxD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;gBACnB,aAAa;gBACb,aAAa;YACf;YACA,SAAS;gBACP,gBAAgB;YAClB;QACA;QACA,MAAM,OAAO,MAAM,SAAS,IAAI;QAChC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,iPAAK,CAAC,KAAK,CAAC,KAAK,OAAO,IAAI;QAC9B,OAAO;YACL,iPAAK,CAAC,OAAO,CAAC;QAChB;IACJ;IAEA,qBACE,qKAAC;QAAK,WAAU;QAAY,UAAU;;0BACpC,qKAAC;;kCACC,qKAAC;wBACC,SAAQ;wBACR,WAAU;kCACX;;;;;;kCAGD,qKAAC;wBACC,MAAK;wBACL,MAAK;wBACL,IAAG;wBACH,QAAQ;wBACR,aAAY;wBACZ,WAAU;wBACV,KAAK;;;;;;;;;;;;0BAGT,qKAAC;;kCACC,qKAAC;wBACC,SAAQ;wBACR,WAAU;kCACX;;;;;;kCAGD,qKAAC;wBACC,MAAK;wBACL,MAAK;wBACL,IAAG;wBACH,QAAQ;wBACR,aAAY;wBACZ,WAAU;wBACV,KAAK;;;;;;;;;;;;0BAGT,qKAAC;0BACC,cAAA,qKAAC;oBACC,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT"}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///Users/amrassal/Documents/Git-Projects/AtlasEgypt/pages/login/forget-password.js"],"sourcesContent":["import ForgetPasswordForm from \"@/components/Authentication/forget-password-form\";\nimport Head from \"next/head\";\nimport Image from \"next/image\";\nimport { getSession } from \"next-auth/react\";\n\nexport default function ForgetPassword() {\n  return (\n    <>\n      <Head>\n        <title>AtlasEgypt - Change Password</title>\n        <meta\n          name=\"description\"\n          content=\"Change your AtlasEgypt account password.\"\n        />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Head>\n      <main className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"max-w-7xl w-full bg-white rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2\">\n          <div className=\"relative h-60 md:h-auto\">\n            <Image\n              src=\"/AtlasEgypt.jpg\"\n              alt=\"Login Banner\"\n              fill\n              className=\"object-cover\"\n            />\n          </div>\n          <div className=\"p-8 md:p-12 flex flex-col justify-center\">\n            <h2 className=\"text-3xl font-bold text-center mb-2\">\n              Change Password\n            </h2>\n            <div className=\"w-16 h-1 bg-amber-500 mx-auto mb-8\"></div>\n            <ForgetPasswordForm />\n          </div>\n        </div>\n      </main>\n    </>\n  );\n}\n\nexport async function getServerSideProps(context) {\n  const session = await getSession({ req: context.req });\n\n  if (!session) {\n    return {\n      redirect: {\n        destination: \"/login\",\n        permanent: false,\n      },\n    };\n  }\n\n  return { props: { session } };\n}\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;AAEe,SAAS;IACtB,qBACE;;0BACE,qKAAC,8KAAI;;kCACH,qKAAC;kCAAM;;;;;;kCACP,qKAAC;wBACC,MAAK;wBACL,SAAQ;;;;;;kCAEV,qKAAC;wBAAK,MAAK;wBAAS,SAAQ;;;;;;;;;;;;0BAE9B,qKAAC;gBAAK,WAAU;0BACd,cAAA,qKAAC;oBAAI,WAAU;;sCACb,qKAAC;4BAAI,WAAU;sCACb,cAAA,qKAAC,+KAAK;gCACJ,KAAI;gCACJ,KAAI;gCACJ,IAAI;gCACJ,WAAU;;;;;;;;;;;sCAGd,qKAAC;4BAAI,WAAU;;8CACb,qKAAC;oCAAG,WAAU;8CAAsC;;;;;;8CAGpD,qKAAC;oCAAI,WAAU;;;;;;8CACf,qKAAC,6MAAkB;;;;;;;;;;;;;;;;;;;;;;;;AAM/B;AAEO,eAAe,mBAAmB,OAAO;IAC9C,MAAM,UAAU,MAAM,IAAA,kPAAU,EAAC;QAAE,KAAK,QAAQ,GAAG;IAAC;IAEpD,IAAI,CAAC,SAAS;QACZ,OAAO;YACL,UAAU;gBACR,aAAa;gBACb,WAAW;YACb;QACF;IACF;IAEA,OAAO;QAAE,OAAO;YAAE;QAAQ;IAAE;AAC9B"}}]
}