{"version":3,"sources":["../../../../../../../Documents/Git-Projects/AtlasEgypt/helper/db-util.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/helper/hash-Password.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/pages/api/auth/%5B...nextauth%5D.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/pages/profile/index.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import { MongoClient } from \"mongodb\";\n\nexport function connectDatabase() {\n  const client = MongoClient.connect(\n    \"mongodb+srv://amrkhaledassal:AkA1292003@cluster0.bozkfl7.mongodb.net/AtlasEgypt?retryWrites=true&w=majority\",\n  );\n  return client;\n}\n\nexport async function InsertDocument(client, document, collection) {\n  const db = client.db();\n  const result = db.collection(collection).insertOne(document);\n  return result;\n}\n","import {hash, compare} from 'bcryptjs'\n\nexport async function hashPassword(password){\n    const hashedPassword = await hash(password, 12);\n    return hashedPassword;\n}\n\nexport async function verifyPassword(password, hashedPassword){\n    const isValid = await compare(password, hashedPassword);\n    return isValid;\n}","import NextAuth from \"next-auth\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\nimport { connectDatabase } from \"@/helper/db-util\";\nimport { verifyPassword } from \"@/helper/hash-Password\";\n\nexport const authOptions = {\n  secret: process.env.NEXTAUTH_SECRET || \"fallback-secret-for-development-only\",\n  session: {\n    strategy: \"jwt\",\n  },\n  providers: [\n    CredentialsProvider({\n      async authorize(credentials) {\n        const client = await connectDatabase();\n        const db = client.db();\n\n        const userCollection = db.collection(\"users\");\n        const user = await userCollection.findOne({ email: credentials.email });\n\n        if (!user) {\n          client.close();\n          throw new Error(\"No user found!\");\n        }\n\n        // You can add password verification logic here\n\n        const isValid = await verifyPassword(\n          credentials.password,\n          user.password,\n        );\n        if (!isValid) {\n          client.close();\n          throw new Error(\"Could not log you in!\");\n        }\n        client.close();\n        return { email: user.email };\n      },\n    }),\n  ],\n};\n\nexport default NextAuth(authOptions);\n","import { getServerSession } from 'next-auth/next';\nimport { authOptions } from '../api/auth/[...nextauth]';\n\nfunction ProfilePage() {\n  return (\n    <div>ProfilePage</div>\n  )\n}\n\n\nexport async function getServerSideProps(context){\n  const session = await getServerSession(context.req, context.res, authOptions);\n\n  if(!session){\n    return{\n      redirect: {\n        destination: '/login',\n        permanent: false,\n      }\n    }\n  }\n  return {props: {session}};\n}\n\nexport default ProfilePage","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[4]}