module.exports=[45679,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(51307),g=b([f]);function h(){let a=(0,e.useRef)(),b=(0,e.useRef)();async function c(c){c.preventDefault();let d=a.current.value,e=b.current.value;if(!d||!e||e.trim().length<7)return void f.toast.error("Please check your input. New passwords must be at least 7 characters long.");let g=await fetch("/api/user/change-password",{method:"PATCH",body:JSON.stringify({oldPassword:d,newPassword:e}),headers:{"Content-Type":"application/json"}}),h=await g.json();g.ok?f.toast.success("Password updated successfully!"):f.toast.error(h.message||"Something went wrong!")}return(0,d.jsxs)("form",{className:"space-y-6",onSubmit:c,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"oldPassword",className:"block text-sm font-medium text-gray-700",children:"Old Password"}),(0,d.jsx)("input",{type:"password",name:"oldPassword",id:"oldPassword",required:!0,placeholder:"enter old password here",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",ref:a})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,d.jsx)("input",{type:"password",name:"newPassword",id:"newPassword",required:!0,placeholder:"enter new password here",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm",ref:b})]}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{type:"submit",className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-amber-500 hover:bg-amber-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-amber-500 cursor-pointer",children:"Change Password"})})]})}[f]=g.then?(await g)():g,a.s(["default",()=>h]),c()}catch(a){c(a)}},!1),64807,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(45679),f=a.i(43631),g=a.i(65111),h=a.i(26534),i=b([e]);function j(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(f.default,{children:[(0,d.jsx)("title",{children:"AtlasEgypt - Change Password"}),(0,d.jsx)("meta",{name:"description",content:"Change your AtlasEgypt account password."}),(0,d.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,d.jsx)("main",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,d.jsxs)("div",{className:"max-w-7xl w-full bg-white rounded-3xl shadow-2xl overflow-hidden grid grid-cols-1 md:grid-cols-2",children:[(0,d.jsx)("div",{className:"relative h-60 md:h-auto",children:(0,d.jsx)(g.default,{src:"/AtlasEgypt.jpg",alt:"Login Banner",fill:!0,className:"object-cover"})}),(0,d.jsxs)("div",{className:"p-8 md:p-12 flex flex-col justify-center",children:[(0,d.jsx)("h2",{className:"text-3xl font-bold text-center mb-2",children:"Change Password"}),(0,d.jsx)("div",{className:"w-16 h-1 bg-amber-500 mx-auto mb-8"}),(0,d.jsx)(e.default,{})]})]})})]})}async function k(a){let b=await (0,h.getSession)({req:a.req});return b?{props:{session:b}}:{redirect:{destination:"/login",permanent:!1}}}[e]=i.then?(await i)():i,a.s(["default",()=>j,"getServerSideProps",()=>k]),c()}catch(a){c(a)}},!1),20092,a=>a.a(async(b,c)=>{try{var d=a.i(19684),e=a.i(45949),f=a.i(2152),g=a.i(3650),h=a.i(85421),i=a.i(64807),j=a.i(15133),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/login/forget-password",pathname:"/login/forget-password",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/login/forget-password",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=Documents_Git-Projects_AtlasEgypt_035983e0._.js.map