{"version":3,"sources":["../../../../../../../Documents/Git-Projects/AtlasEgypt/helper/db-util.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/helper/hash-Password.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/pages/api/auth/%5B...nextauth%5D.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/components/blog/Post-blog.jsx","../../../../../../../Documents/Git-Projects/AtlasEgypt/pages/Blog/AddBlog.js","../../../../../../../Documents/Git-Projects/AtlasEgypt/node_modules/next/src/build/templates/pages.ts"],"sourcesContent":["import { MongoClient } from \"mongodb\";\n\nexport function connectDatabase() {\n  const client = MongoClient.connect(\n    \"mongodb+srv://amrkhaledassal:AkA1292003@cluster0.bozkfl7.mongodb.net/AtlasEgypt?retryWrites=true&w=majority\",\n  );\n  return client;\n}\n\nexport async function InsertDocument(client, document, collection) {\n  const db = client.db();\n  const result = db.collection(collection).insertOne(document);\n  return result;\n}\n","import {hash, compare} from 'bcryptjs'\n\nexport async function hashPassword(password){\n    const hashedPassword = await hash(password, 12);\n    return hashedPassword;\n}\n\nexport async function verifyPassword(password, hashedPassword){\n    const isValid = await compare(password, hashedPassword);\n    return isValid;\n}","import NextAuth from \"next-auth\";\nimport CredentialsProvider from \"next-auth/providers/credentials\";\nimport { connectDatabase } from \"@/helper/db-util\";\nimport { verifyPassword } from \"@/helper/hash-Password\";\n\nexport const authOptions = {\n  secret: process.env.NEXTAUTH_SECRET || \"fallback-secret-for-development-only\",\n  session: {\n    strategy: \"jwt\",\n  },\n  providers: [\n    CredentialsProvider({\n      async authorize(credentials) {\n        const client = await connectDatabase();\n        const db = client.db();\n\n        const userCollection = db.collection(\"users\");\n        const user = await userCollection.findOne({ email: credentials.email });\n\n        if (!user) {\n          client.close();\n          throw new Error(\"No user found!\");\n        }\n\n        // You can add password verification logic here\n\n        const isValid = await verifyPassword(\n          credentials.password,\n          user.password,\n        );\n        if (!isValid) {\n          client.close();\n          throw new Error(\"Could not log you in!\");\n        }\n        client.close();\n        return { email: user.email };\n      },\n    }),\n  ],\n};\n\nexport default NextAuth(authOptions);\n","import Button from \"../ui/Button\";\n\nfunction AddPostBlog() {\n  return (\n    <section className=\"mt-20\">\n      <div className=\"container mx-auto mt-10\">\n        <form className=\"bg-white p-6 rounded-lg shadow-md\">\n          <div className=\"mb-4\">\n            <label htmlFor=\"title\" className=\"text-2xl font-bold\">\n              Title\n            </label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              required\n              className=\"w-full p-2 border border-gray-300 rounded h-12\"\n              placeholder=\"Enter Blog title\"\n            />\n          </div>\n          <div className=\"mb-4\">\n            <label htmlFor=\"content\" className=\"text-2xl font-bold\">\n              Content\n            </label>\n            <textarea\n              id=\"content\"\n              rows={8}\n              name=\"content\"\n              required\n              className=\"w-full p-2 border border-gray-300 rounded\"\n              placeholder=\"Enter Blog content\"\n            ></textarea>\n          </div>\n\n          <div>\n            <label htmlFor=\"image\" className=\"text-2xl font-bold mb-2 block\">\n              Upload Image\n            </label>\n            <button className=\"mb-4 py-2 bg-gray-600 text-white rounded hover:bg-amber-600 transition-colors cursor-pointer\">\n              <input type=\"file\" id=\"image\" name=\"image\" accept=\"image/*\" />\n            </button>\n          </div>\n\n          <div className=\"text-center\">\n            <Button type=\"submit\" className=\"mx-auto block w-full md:w-1/2 py-3 text-lg font-semibold shadow-lg hover:scale-105 transition-transform\">\n              Add Blog Post\n            </Button>\n          </div>\n        </form>\n      </div>\n    </section>\n  );\n}\n\nexport default AddPostBlog;\n","import Image from \"next/image\";\nimport Head from \"next/head\";\nimport { getServerSession } from 'next-auth/next';\nimport { authOptions } from '../api/auth/[...nextauth]';\n\nimport AddPostBlog from \"@/components/blog/Post-blog\";\n\nfunction AddBlog() {\n  return (\n    <>\n      <Head>\n        <title>AtlasEgypt - Add Blog</title>\n        <meta\n          name=\"description\"\n          content=\"Add a new blog post to share your insights and updates with the AtlasEgypt community.\"\n        />\n        <meta name=\"robots\" content=\"noindex, nofollow\" />\n      </Head>\n      <main className=\"mt-20 md:min-h-screen\">\n        <section className=\"relative w-full h-[30vh] md:h-[55vh]\">\n          <Image\n            src=\"/BlogPageBanner.jpg\"\n            alt=\"Blog Page Banner\"\n            fill\n            className=\"object-cover object-center z-0\"\n            priority={true}\n          />\n          <div className=\"absolute inset-0 bg-black/40\" />\n          <div className=\"relative z-10 flex flex-col items-center justify-center h-full text-white px-4 text-center \">\n            <h1 className=\"text-4xl md:text-6xl font-bold mb-6\">\n              Adding a New Blog Post\n            </h1>\n            <p className=\"text-lg md:text-xl max-w-4xl mb-5\">\n              Share your insights, experiences, and updates with the AtlasEgypt\n              community by adding a new blog post. Whether it's a travel story,\n              a cultural insight, or an update about our services, your\n              contribution helps us connect and inspire others. Use the form\n              below to create your blog post and share it with the world!\n            </p>\n          </div>\n        </section>\n        <AddPostBlog />\n      </main>\n    </>\n  );\n}\n\nexport async function getServerSideProps(context) {\n  const session = await getServerSession(context.req, context.res, authOptions);\n\n  if (!session) {\n    return {\n      redirect: {\n        destination: \"/login\",\n        permanent: false,\n      },\n    };\n  }\n\n  return {\n    props: { session },\n  };\n}\n\nexport default AddBlog;\n","import { PagesRouteModule } from '../../server/route-modules/pages/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\n\nimport { hoist } from './helpers'\n\n// Import the app and document modules.\nimport * as document from 'VAR_MODULE_DOCUMENT'\nimport * as app from 'VAR_MODULE_APP'\n\n// Import the userland code.\nimport * as userland from 'VAR_USERLAND'\nimport { getHandler } from '../../server/route-modules/pages/pages-handler'\n\n// Re-export the component (should be the default export).\nexport default hoist(userland, 'default')\n\n// Re-export methods.\nexport const getStaticProps = hoist(userland, 'getStaticProps')\nexport const getStaticPaths = hoist(userland, 'getStaticPaths')\nexport const getServerSideProps = hoist(userland, 'getServerSideProps')\nexport const config = hoist(userland, 'config')\nexport const reportWebVitals = hoist(userland, 'reportWebVitals')\n\n// Re-export legacy methods.\nexport const unstable_getStaticProps = hoist(\n  userland,\n  'unstable_getStaticProps'\n)\nexport const unstable_getStaticPaths = hoist(\n  userland,\n  'unstable_getStaticPaths'\n)\nexport const unstable_getStaticParams = hoist(\n  userland,\n  'unstable_getStaticParams'\n)\nexport const unstable_getServerProps = hoist(\n  userland,\n  'unstable_getServerProps'\n)\nexport const unstable_getServerSideProps = hoist(\n  userland,\n  'unstable_getServerSideProps'\n)\n\n// Create and export the route module that will be consumed.\nexport const routeModule = new PagesRouteModule({\n  definition: {\n    kind: RouteKind.PAGES,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    // The following aren't used in production.\n    bundlePath: '',\n    filename: '',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  components: {\n    // default export might not exist when optimized for data only\n    App: app.default,\n    Document: document.default,\n  },\n  userland,\n})\n\nexport const handler = getHandler({\n  srcPage: 'VAR_DEFINITION_PAGE',\n  config,\n  userland,\n  routeModule,\n  getStaticPaths,\n  getStaticProps,\n  getServerSideProps,\n})\n"],"names":["PagesRouteModule","RouteKind","hoist","document","app","userland","getHandler","getStaticProps","getStaticPaths","getServerSideProps","config","reportWebVitals","unstable_getStaticProps","unstable_getStaticPaths","unstable_getStaticParams","unstable_getServerProps","unstable_getServerSideProps","routeModule","definition","kind","PAGES","page","pathname","bundlePath","filename","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","components","App","default","Document","handler","srcPage"],"mappings":"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","ignoreList":[5]}